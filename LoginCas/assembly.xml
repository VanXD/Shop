<?xml version="1.0" encoding="utf-8"?>
<assembly
  xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd">
	<id>release</id>
	<formats>
		<format>zip</format>
		<format>tar.gz</format>
	</formats>
	<includeBaseDirectory>true</includeBaseDirectory>
	<fileSets>
		<fileSet>
			<lineEnding>unix</lineEnding>
			<useDefaultExcludes>true</useDefaultExcludes>
			<directory>${basedir}</directory>
			<outputDirectory></outputDirectory>
			<includes>
				<include>*.xml</include>
				<include>*.txt</include>
			</includes>
		</fileSet>
	</fileSets>
	<moduleSets>
		<moduleSet>
			<includes></includes>
			<excludes>
				<exclude>cas-server-webapp</exclude>
			</excludes>
			<sources>
 				<fileSets>
					<fileSet>
						<directory>src</directory>
						<outputDirectory>src</outputDirectory>
						<lineEnding>unix</lineEnding>
						<useDefaultExcludes>true</useDefaultExcludes>
                        <includes>
                            <include>**/*.java</include>
                            <include>**/*.xml</include>
                            <include>**/*.properties</include>
                            <include>**/*.jsp</include>
                            <include>**/*.css</include>
                            <include>**/*.jsp</include>
                            <include>**/*.html</include>
                            <include>**/*.txt</include>
                            <include>**/*.js</include>
                            <include>**/*.conf</include>
                            <include>**/*.crt</include>
                            <include>**/*.crl</include>
                        </includes>
					</fileSet>

                     <fileSet>
                         <directory>src</directory>
                         <outputDirectory>src</outputDirectory>
                         <includes>
                             <include>**/*.gif</include>
                             <include>**/*.ico</include>
                             <include>**/*.key</include>
                         </includes>
                     </fileSet>
					
					<fileSet>
						<lineEnding>unix</lineEnding>
						<useDefaultExcludes>true</useDefaultExcludes>
						<includes>
							<include>*.xml</include>
						</includes>
					</fileSet>
					
					<fileSet>
						<lineEnding>unix</lineEnding>
						<directory>target/site/apidocs/</directory>
						<useDefaultExcludes>true</useDefaultExcludes>
						<outputDirectory>docs</outputDirectory>
						<includes>
							<include>**/*</include>
						</includes>
					</fileSet>
				</fileSets>

 				<includeModuleDirectory>true</includeModuleDirectory>
				<useDefaultExcludes>true</useDefaultExcludes>
			</sources>
			<binaries>
				<outputDirectory>modules</outputDirectory>
				<includeDependencies>false</includeDependencies>
				<unpack>false</unpack>
				<includes />
			</binaries>
		</moduleSet>

		<moduleSet>
			<includes>
				<include>cas-server-webapp</include>
			</includes>
			<sources>
 				<fileSets>
					<fileSet>
						<lineEnding>unix</lineEnding>
						<useDefaultExcludes>true</useDefaultExcludes>
						<includes>
							<include>*.xml</include>
						</includes>
					</fileSet>
				</fileSets>
 				<includeModuleDirectory>true</includeModuleDirectory>
				<useDefaultExcludes>true</useDefaultExcludes>
			</sources>
			<binaries>
				<outputDirectory>modules</outputDirectory>
				<includeDependencies>false</includeDependencies>
				<unpack>false</unpack>
 				<outputFileNameMapping>cas.war</outputFileNameMapping>
				<includes />
			</binaries>
		</moduleSet>
	</moduleSets>
</assembly>